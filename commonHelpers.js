import{a as w,S as L,i as C}from"./assets/vendor-2cfd16ce.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function i(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(e){if(e.ep)return;e.ep=!0;const t=i(e);fetch(e.href,t)}})();const E="43047310-ec96e83c6d494f225a37e8405",I=15;let g=1;async function f(s){const a=`https://pixabay.com/api/?key=${E}&q=${encodeURIComponent(s)}&image_type=photo&orientation=horizontal&safesearch=true&page=${g}&per_page=${I}`;try{const r=(await w.get(a)).data,e=r.totalHits;return{images:r.hits.map(t=>({webformatURL:t.webformatURL,largeImageURL:t.largeImageURL,tags:t.tags,likes:t.likes,views:t.views,comments:t.comments,downloads:t.downloads})),totalHits:e}}catch{throw new Error("Failed to fetch images from Pixabay API")}}function b(){g=1}function v(){g++}let p=null;function P(){return document.querySelector(".image-container").getBoundingClientRect().height}function R(){const s=P();window.scrollBy({top:s*2,behavior:"smooth"})}function y(s,a=!1){const i=document.querySelector(".gallery");function r(e,t,n){const o=document.createElement("li");o.textContent=`${e}`,o.classList.add(n);const d=document.createElement("p");return d.textContent=`${t}`,o.appendChild(d),o}a||(i.innerHTML=""),s.forEach(e=>{const t=document.createElement("a");t.href=e.largeImageURL,t.dataset.src=e.largeImageURL;const n=document.createElement("img");n.src=e.webformatURL,n.alt=e.tags,n.title=e.tags,t.appendChild(n);const o=document.createElement("ul");o.classList.add("my-ul-class");const d=r("Likes:",e.likes,"my-li-class"),u=r("Views:",e.views,"my-li-class"),h=r("Comments:",e.comments,"my-li-class"),l=r("Downloads:",e.downloads,"my-li-class");o.appendChild(d),o.appendChild(u),o.appendChild(h),o.appendChild(l);const c=document.createElement("div");c.classList.add("image-info"),c.appendChild(o);const m=document.createElement("div");m.classList.add("image-container"),m.appendChild(t),m.appendChild(c),i.appendChild(m)}),p?p.refresh():p=new L(".gallery a"),R()}document.addEventListener("DOMContentLoaded",()=>{const s=document.getElementById("search-form"),a=document.getElementById("gallery"),i=document.getElementById("loader");let r=1,e="",t=1,n;function o(l){C.error({title:"Error",position:"topRight",message:l,maxWidth:"400px"})}function d(){i.style.display="block"}function u(){i.style.display="none"}function h(){r<=t?n.classList.remove("hidden"):(n.classList.add("hidden"),o("We're sorry, but you've reached the end of search results."))}s.addEventListener("submit",async l=>{if(l.preventDefault(),e=l.target.elements.query.value.trim(),!e){o("Please enter a search query");return}d(),b();try{const{images:c,totalHits:m}=await f(e,r);y(c),t=Math.ceil(m/15)}catch{o("Failed to fetch images. Please try again later.")}finally{u(),h(),window.scrollBy({top:a.getBoundingClientRect().height*2,behavior:"smooth"})}}),n=document.querySelector(".js-btn-load"),n.addEventListener("click",async()=>{v(),d();try{const{images:l,totalHits:c}=await f(e,r);y(l,!0),t=Math.ceil(c/15)}catch{o("Failed to fetch more images. Please try again later.")}finally{u(),h(),window.scrollBy({top:a.getBoundingClientRect().height*2,behavior:"smooth"})}}),new L(".gallery a",{captionsData:"alt"})});
//# sourceMappingURL=commonHelpers.js.map
