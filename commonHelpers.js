import{a as y,S as h,i as m}from"./assets/vendor-dea3a18a.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const o of t.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}})();const g="43047310-ec96e83c6d494f225a37e8405",L=15;let w=1;async function E(n){const a=`https://pixabay.com/api/?key=${g}&q=${encodeURIComponent(n)}&image_type=photo&orientation=horizontal&safesearch=true&page=${w}&per_page=${L}`;try{return(await y.get(a)).data.hits.map(e=>({webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,tags:e.tags,likes:e.likes,views:e.views,comments:e.comments,downloads:e.downloads}))}catch{throw new Error("Failed to fetch images from Pixabay API")}}let d=null;function I(){const n=document.querySelector(".gallery");n.innerHTML=""}function b(n){const a=document.querySelector(".gallery");a.innerHTML="";function s(r,e,t){const o=document.createElement("li");o.textContent=`${r}`,o.classList.add(t);const l=document.createElement("p");return l.textContent=`${e}`,o.appendChild(l),o}n.forEach(r=>{const e=document.createElement("a");e.href=r.largeImageURL,e.dataset.src=r.largeImageURL;const t=document.createElement("img");t.src=r.webformatURL,t.alt=r.tags,t.title=r.tags,e.appendChild(t);const o=document.createElement("ul");o.classList.add("my-ul-class");const l=s("Likes:",r.likes,"my-li-class"),p=s("Views:",r.views,"my-li-class"),u=s("Comments:",r.comments,"my-li-class"),f=s("Downloads:",r.downloads,"my-li-class");o.appendChild(l),o.appendChild(p),o.appendChild(u),o.appendChild(f);const i=document.createElement("div");i.classList.add("image-info"),i.appendChild(o);const c=document.createElement("div");c.classList.add("image-container"),c.appendChild(e),c.appendChild(i),a.appendChild(c)}),d?d.refresh():d=new h(".gallery a")}document.addEventListener("DOMContentLoaded",()=>{const n=document.getElementById("search-form"),a=document.getElementById("loader");let s;n.addEventListener("submit",async r=>{r.preventDefault();const e=r.target.elements.query.value.trim();if(!e){m.error({title:"Error",position:"topRight",message:"Please enter a search query"});return}I(),a.style.display="block";try{const t=await E(e);b(t),s?s.refresh():s=new SimpleLightbox(".gallery a",{captionsData:"alt",captionDelay:250})}catch(t){console.error(t.message),m.error({title:"Error",position:"topRight",message:"Failed to fetch images. Please try again later."})}finally{a.style.display="none"}}),s=new SimpleLightbox(".gallery a",{captionsData:"alt",captionDelay:250})});
//# sourceMappingURL=commonHelpers.js.map
