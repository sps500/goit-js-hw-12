import{a as L,S as g,i as w}from"./assets/vendor-2cfd16ce.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const n of e.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function o(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function a(t){if(t.ep)return;t.ep=!0;const e=o(t);fetch(t.href,e)}})();const E="43047310-ec96e83c6d494f225a37e8405",I=15;let f=1;async function y(l){const r=`https://pixabay.com/api/?key=${E}&q=${encodeURIComponent(l)}&image_type=photo&orientation=horizontal&safesearch=true&page=${f}&per_page=${I}`;try{const a=(await L.get(r)).data,t=a.totalHits;return{images:a.hits.map(e=>({webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,tags:e.tags,likes:e.likes,views:e.views,comments:e.comments,downloads:e.downloads})),totalHits:t}}catch{throw new Error("Failed to fetch images from Pixabay API")}}function P(){f=1}function b(){f++}let p=null;function C(){const l=document.querySelector(".gallery");l.innerHTML=""}function h(l){const r=document.querySelector(".gallery");r.innerHTML="";function o(a,t,e){const n=document.createElement("li");n.textContent=`${a}`,n.classList.add(e);const i=document.createElement("p");return i.textContent=`${t}`,n.appendChild(i),n}l.forEach(a=>{const t=document.createElement("a");t.href=a.largeImageURL,t.dataset.src=a.largeImageURL;const e=document.createElement("img");e.src=a.webformatURL,e.alt=a.tags,e.title=a.tags,t.appendChild(e);const n=document.createElement("ul");n.classList.add("my-ul-class");const i=o("Likes:",a.likes,"my-li-class"),m=o("Views:",a.views,"my-li-class"),u=o("Comments:",a.comments,"my-li-class"),s=o("Downloads:",a.downloads,"my-li-class");n.appendChild(i),n.appendChild(m),n.appendChild(u),n.appendChild(s);const c=document.createElement("div");c.classList.add("image-info"),c.appendChild(n);const d=document.createElement("div");d.classList.add("image-container"),d.appendChild(t),d.appendChild(c),r.appendChild(d)}),p?p.refresh():p=new g(".gallery a")}document.addEventListener("DOMContentLoaded",()=>{const l=document.getElementById("search-form");document.getElementById("gallery");const r=document.getElementById("loader");let o=1,a="",t=1,e;function n(s){w.error({title:"Error",position:"topRight",message:s})}function i(){r.style.display="block"}function m(){r.style.display="none"}function u(){o<=t?e.classList.remove("hidden"):(e.classList.add("hidden"),n("We're sorry, but you've reached the end of search results."))}l.addEventListener("submit",async s=>{if(s.preventDefault(),a=s.target.elements.query.value.trim(),!a){n("Please enter a search query");return}C(),i(),P();try{const{images:c,totalHits:d}=await y(a,o);h(c),t=Math.ceil(d/15)}catch{n("Failed to fetch images. Please try again later.")}finally{m(),u()}}),e=document.querySelector(".js-btn-load"),e.addEventListener("click",async()=>{b(),i();try{const{images:s,totalHits:c}=await y(a,o);h(s),t=Math.ceil(c/15)}catch{n("Failed to fetch more images. Please try again later.")}finally{m(),u()}}),new g(".gallery a",{captionsData:"alt",captionDelay:250})});
//# sourceMappingURL=commonHelpers.js.map
